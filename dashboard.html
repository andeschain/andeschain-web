<script src="js/simulador.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

<script>
    // En el script de dashboard.html:
    function loadDashboard() {
        const db = getProductos(); // Viene de simulador.js
        const grid = document.getElementById('products-grid');
        grid.innerHTML = '';

        db.forEach(p => {
            if(p.estado !== 'VERIFIED') return;

            const card = document.createElement('div');
            card.className = "glass-card p-6 ..."; // (Estilos previos)
            // IMPORTANTE: Link al producto
            const url = `producto.html?id=${p.id}`;
            
            card.innerHTML = `
                <img src="${p.img}" class="...">
                <h3>${p.nombre}</h3>
                <div id="qr-${p.id}"></div>
                <a href="${url}">Ver Ficha</a>
            `;
            grid.appendChild(card);
            
            new QRCode(document.getElementById(`qr-${p.id}`), { text: window.location.origin + "/" + url, width: 64, height: 64 });
        });
    }
    window.onload = loadDashboard;
</script>
